{{ define "main" }}
<div class="relative px-4 sm:px-6 lg:px-8">
  <div class="max-w-4xl mx-auto text-lg">
    <h1 class="flex justify-center">
      <span class="inline-block mx-auto mt-2 text-3xl leading-8 tracking-tight text-center text-gray-900 sm:text-4xl">
        <span class="font-light">{{ .Site.Params.first_name }}</span>
        <span class="font-semibold">{{ .Site.Params.last_name }}</span>
      </span>
    </h1>
    <div class="mt-6">
      <div class="flex flex-wrap items-center justify-center gap-x-4 gap-y-1 print:hidden">
        {{- range .Site.Data.links }}
        <a href="{{ .url | safeURL }}" target="_blank">
          <div
            class="flex items-center gap-2 px-2 py-1 text-xs font-semibold leading-5 tracking-wider text-white uppercase transition-all bg-gray-800 rounded-md hover:bg-sky-600">
            <span class="iconify" {{ printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="16"
              data-height="16"></span>
            <span>{{ .name }}</span>
          </div>
        </a>
        {{- end }}
      </div>
      <div class="flex-wrap justify-center hidden text-base gap-x-4 gap-y-1 print:flex">
        {{- range .Site.Data.links }}
        {{- $url := replaceRE "^https?://" "" .url }}
        {{- $url = replaceRE "/$" "" $url }}
        {{- $url = replaceRE "^mailto:" "" $url }}
        <span class="flex items-center gap-2">
          <span class="iconify" {{ printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="16"
            data-height="16"></span>
          <span>{{ $url | safeURL }}</span>
        </span>
        {{- end }}
      </div>
    </div>
    {{- $profilePicture := resources.Get "img/profile_96x96.png" }}
    {{- if hugo.IsProduction }}
    {{- $profilePicture = $profilePicture | resources.Fingerprint "sha512" }}
    {{- end }}
    <div class="mt-6 group">
      <img
        class="float-left w-24 h-24 mr-6 transition-all rounded-md grayscale group-hover:grayscale-0 print:grayscale-0"
        src="{{ $profilePicture.Permalink }}" alt="Profile Picture" loading="lazy"
        integrity="{{ $profilePicture.Data.Integrity }}">
      <p class="text-lg text-gray-500 print:text-base">{{ .Page.Content | plainify }}</p>
    </div>
  </div>
  <div class="max-w-4xl mx-auto prose text-gray-500 prose-sky">
    <!-- Work Experience -->
    <div id="{{ "Experience" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="ic:outline-work" data-width="24" data-height="24"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Experience</h2>
        </div>
      </div>
      <div>
        <ul role="list" class="grid grid-cols-1 pl-0 mt-6 list-none gap-y-8">
          {{- range .Site.Data.experiences }}
          {{- $to := .to | default "present" }}
          {{- $period := cond (eq .from $to) $to (printf "%s &rarr; %s" .from $to) }}
          <li id="{{ (printf "Experience %s" .company) | anchorize  }}" class="pl-0 my-0 group">
            <div class="flex flex-wrap items-center justify-between">
              <h3 class="my-0">{{ .company }}</h3>
              <span class="text-sm text-gray-500">{{ $period | htmlUnescape }}</span>
            </div>
            <span class="text-gray-500 print:text-base">{{ .position }}</span>
            <div class="flex flex-wrap gap-5 mt-1">
              {{- range .technologies }}
              {{- $tech := index $.Site.Data.technologies .}}
              <span class="h-8" title="{{ $tech.name }}">
                <span class="transition iconify grayscale print:grayscale-0 group-hover:grayscale-0" {{
                  printf "data-icon=%q" $tech.icon | safeHTMLAttr }} data-width="28" data-height="28"></span>
              </span>
              {{- end }}
            </div>
            <ul role="list" class="mt-2 mb-0 print:text-base">
              {{- range .tasks }}
              <li class="mt-1 mb-0">{{ safeHTML . }}</li>
              {{- end }}
            </ul>
          </li>
          {{- end }}
        </ul>
      </div>
    </div>

    <!-- Projects -->
    <div id="{{ "Projects" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="carbon:cloud-app" data-width="24" data-height="24"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Projects</h2>
        </div>
      </div>
      <div>
        <ul role="list" class="flex flex-col gap-4 pl-0 mt-6 list-none">
          {{- range .Site.Data.projects }}
          {{- $primaryTech := index $.Site.Data.technologies (index .technologies 0) }}
          <li id="{{ (printf "projects %s" .name) | anchorize  }}" class="flex pl-0 my-0 border rounded-md shadow-sm border-slate-200 print:shadow-none group">
            <div
              class="flex items-center justify-center flex-shrink-0 w-20 text-sm font-medium text-gray-500 shadow-sm bg-slate-200 print:shadow-none rounded-l-md">
              <span title="{{ $primaryTech.name }}">
                <span class="transition iconify grayscale print:grayscale-0 group-hover:grayscale-0" {{
                  printf "data-icon=%q" $primaryTech.icon | safeHTMLAttr }} data-width="42" data-height="42"></span>
              </span>
            </div>
            <div class="flex items-center justify-between flex-1 bg-white">
              <div class="flex-1 px-4 py-2">
                <h3 class="my-0">
                  <a href="{{ .link | safeURL }}" target="_blank" class="font-medium no-underline">{{
                    .name }}
                    <span class="hidden text-sm print:inline">
                      ( {{ replaceRE "^https?://" "" .link }} )
                    </span>
                  </a>
                </h3>
                <div class="mt-1 text-gray-500 break-words">
                  {{ safeHTML .description }}
                </div>
                {{ $techs := slice }}
                {{- range .technologies }}
                {{- if ne . $primaryTech.name }}
                {{- $techs = $techs | append (index $.Site.Data.technologies .) }}
                {{- end }}
                {{- end }}

                {{- if gt (len $techs) 0 }}
                <div class="flex flex-wrap gap-5 mt-3">
                  {{- range $techs }}
                  <span class="h-8" title="{{ .name }}">
                    <span class="transition iconify grayscale print:grayscale-0 group-hover:grayscale-0" {{
                      printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="28" data-height="28"></span>
                  </span>
                  {{- end }}
                </div>
                {{- end }}
              </div>
            </div>
          </li>
          {{- end }}
          <li class="pl-0 my-0">
            <a href="{{ safeURL .Site.Params.github }}" target="_blank"
              class="text-base font-medium no-underline print:hidden">View
              more projects
              on
              Github &rarr;</a>
            <span class="hidden text-base font-medium text-sky-600 print:inline">View
              more projects
              on
              Github [ {{ replaceRE "^https?://" "" .Site.Params.github }} ]</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Awards -->
    <div id="{{ "Awards" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="fa6-solid:award" data-width="24" data-height="24"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Awards</h2>
        </div>
      </div>
      <div>
        <div class="grid grid-cols-1 mt-6 gap-x-12 gap-y-4 sm:grid-cols-2">
          {{- range .Site.Data.awards }}
          <div id="{{ (printf "Awards %s %s" .event .date) | anchorize  }}" class="px-4 py-3 border rounded-md shadow-sm print:shadow-none border-slate-200 group">
            <div class="flex items-center" title="{{ .result }}">
              <span
                class="flex-shrink-0 transition bg-white iconify grayscale print:grayscale-0 group-hover:grayscale-0" {{
                printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="42" data-height="42"></span>
              <div class="w-full ml-6">
                <div class="flex flex-wrap items-center justify-between">
                  <h3 class="my-0">{{ .event }}</h3>
                  <span class="text-sm text-gray-500">{{ .date }}</span>
                </div>
                <div class="text-gray-400">{{ .description | safeHTML }}</div>
              </div>
            </div>
          </div>
          {{- end }}
        </div>
      </div>
    </div>

    <!-- Contributions -->
    <div id="{{ "Contributions" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="bxs:user-voice" data-width="26" data-height="26"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Contributions</h2>
        </div>
      </div>
      <div>
        <ul role="list" class="grid grid-cols-1 pl-0 mt-6 list-none gap-x-12 gap-y-4 sm:grid-cols-2">
          {{- range .Site.Data.contributions }}
          {{- $to := .to | default "present" }}
          {{- $period := cond (eq .from $to) $to (printf "%s &rarr; %s" .from $to) }}
          <li id="{{ (printf "Contributions %s %s" .event .title) | anchorize  }}" class="pl-0 my-0 group">
            <div class="flex flex-col sm:items-center sm:justify-between sm:flex-row">
              <h3 class="my-0">{{ .event }}</h3>
              <span class="text-sm text-gray-500">{{ $period | htmlUnescape }}</span>
            </div>
            <span
              class="px-2 py-1 text-sm text-gray-500 border rounded-lg shadow-sm print:shadow-none border-slate-200">{{
              .role }}</span>
            <div class="text-gray-500">{{ .title }}</div>
          </li>
          {{- end }}
        </ul>
      </div>
    </div>

    <!-- Interests -->
    <div id="{{ "Interests" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="mdi:nintendo-game-boy" data-width="26" data-height="26"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Interests</h2>
        </div>
      </div>
      <div>
        <ul role="list" class="grid grid-cols-1 pl-0 mt-6 list-none gap-x-12 gap-y-4 sm:grid-cols-2">
          {{- range .Site.Data.interests }}
          <li id="{{ (printf "Interests %s" .name) | anchorize  }}" class="flex items-center gap-4 pl-0 my-0 group">
            <span
              class="flex-shrink-0 transition bg-white rounded-md iconify grayscale print:grayscale-0 group-hover:grayscale-0"
              {{ printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="42" data-height="42"></span>
            <span>{{ .name }}</span>
          </li>
          {{- end }}
        </ul>
      </div>
    </div>

    <!-- Languages -->
    <div id="{{ "Languages" | anchorize  }}" class="mt-8">
      <div class="relative">
        <div class="absolute inset-0 flex items-center" aria-hidden="true">
          <div class="w-full border-t border-gray-300"></div>
        </div>
        <div class="relative flex items-center justify-start">
          <span class="bg-white iconify" data-icon="entypo:language" data-width="26" data-height="26"></span>
          <h2 class="pl-3 pr-6 my-0 font-medium bg-white">Languages</h2>
        </div>
      </div>
      <div>
        <ul role="list" class="grid grid-cols-1 pl-0 mt-6 list-none gap-x-12 gap-y-4 sm:grid-cols-2">
          {{- range .Site.Data.languages }}
          <li id="{{ (printf "Languages %s" .name) | anchorize  }}" class="flex items-center gap-4 pl-0 my-0 group">
            <span
              class="flex-shrink-0 transition bg-white rounded-md iconify grayscale print:grayscale-0 group-hover:grayscale-0"
              {{ printf "data-icon=%q" .icon | safeHTMLAttr }} data-width="42" data-height="42"></span>
            <div>
              <h3 class="my-0">{{ .name }}</h3>
              <div class="text-gray-500">{{ .level }}</div>
            </div>
          </li>
          {{- end }}
        </ul>
      </div>
    </div>

  </div>
</div>

<div class="fixed bottom-5 right-5">
  <button onclick="window.print()" type="button" aria-label="Print Resume"
    class="inline-flex items-center px-3 py-2 text-sm font-medium leading-4 text-white transition-all border border-transparent rounded-md shadow-sm opacity-75 bg-sky-600 group print:hidden hover:opacity-90 hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500">
    <span class="hidden transition-all group-hover:inline-block">Print Resume</span>
    <span class="group-hover:ml-2 iconify" data-icon="fa6-solid:print" data-width="20" data-height="20"></span>
  </button>
</div>
{{ end }}